#!/usr/bin/sh
# Common utils
sudo apt-get install mc htop tree -y

# LAMP Stack
# PHP5 is deleted from xenial 16.04
# configure PHP7 later.
sudo apt-get install apache2 mysql-server
sudo chown -R hustlion:hustlion /var/www
# chech the privileges with
# ls /var/www/ -l

# Meteor
# Meteor packages: https://atmospherejs.com/
curl https://install.meteor.com/ | sh

# Bash-it
# https://github.com/Bash-it/bash-it
# Combined with my dotfiles.
# git clone --depth=1 https://github.com/Bash-it/bash-it.git ~/.bash_it

# Oh-my-zsh
# https://github.com/robbyrussell/oh-my-zsh
sudo apt install zsh
chsh -s $(which zsh)
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
cd ~
git clone https://github.com/powerline/fonts.git
cd fonts
./install.sh
# RCM
# rc file (dotfile) management
# https://github.com/thoughtbot/rcm
sudo add-apt-repository ppa:martin-frost/thoughtbot-rcm
sudo apt-get update
sudo apt-get install rcm

# Thoughtbot dotfiles
# https://github.com/thoughtbot/dotfiles
# later you can totally customize
cd ~
git clone git://github.com/thoughtbot/dotfiles.git
sudo apt-get install vim
env RCRC=$HOME/dotfiles/rcrc rcup

# Vim plugins
# http://vimawesome.com/
# https://github.com/VundleVim/Vundle.vim
# https://github.com/Shougo/neobundle.vim 
## Build vim for youcompleteme
## https://github.com/Valloric/YouCompleteMe/wiki/Building-Vim-from-source
## Uninstall: dpkg -r vim
sudo apt-get install libncurses5-dev libgnome2-dev libgnomeui-dev \
        libgtk2.0-dev libatk1.0-dev libbonoboui2-dev \
            libcairo2-dev libx11-dev libxpm-dev libxt-dev python-dev \
                ruby-dev git
sudo apt-get remove vim vim-runtime gvim vim-tiny vim-common vim-gui-common
cd ~
git clone https://github.com/vim/vim.git
cd vim
./configure --with-features=huge \
            --enable-multibyte \
            --enable-rubyinterp \
            --enable-pythoninterp \
            --with-python-config-dir=/usr/lib/python2.7/config \
            --enable-perlinterp \
            --enable-luainterp \
            --enable-gui=gtk2 --enable-cscope --prefix=/usr
make VIMRUNTIMEDIR=/usr/share/vim/vim74
sudo apt-get install checkinstall
sudo checkinstall
sudo update-alternatives --install /usr/bin/editor editor /usr/bin/vim 1
sudo update-alternatives --set editor /usr/bin/vim
sudo update-alternatives --install /usr/bin/vi vi /usr/bin/vim 1
sudo update-alternatives --set vi /usr/bin/vim
## compile YCM
### which npm from Node
curl -sL https://deb.nodesource.com/setup_6.x | sudo -E bash -
sudo apt-get install -y nodejs
sudo npm install npm -g
### which rustc from Rust
curl -sSf https://static.rust-lang.org/rustup.sh | sh
### which mono
sudo add-apt-repository ppa:ermshiperete/monodevelop
sudo apt-get update
sudo apt-get install monodevelop-current mono-xbuild mono-complete
### which go
cd ~
wget https://storage.googleapis.com/golang/go1.6.2.linux-amd64.tar.gz
sudo tar -C /usr/local -xzf go1.6.2.linux-amd64.tar.gz

### which tsc from typescript
sudo npm install -g typescript
### which cmake
sudo apt-get install build-essential cmake python-dev python3-dev -y
cd ~/.vim/bundle/youcompleteme
# ./install.py --all
# --all is simple but --omnisharp-completer fails
./install.py --gocode-completer --tern-completer --racer-completer 
# Tmux
# https://github.com/tmux/tmux
sudo apt-get install tmux
